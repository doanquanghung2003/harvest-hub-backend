<mxfile host="65bd71144e">
    <diagram id="activitySignupLogin" name="Hoạt động - Đăng ký &amp; Đăng nhập">
        <mxGraphModel dx="1178" dy="1016" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="2000" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="boundary" value="Luồng hoạt động đăng ký &amp; đăng nhập" style="swimlane;childLayout=stackLayout;horizontal=0;rounded=1;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#6c8ebf;fillColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="200" y="100" width="1200" height="1800" as="geometry"/>
                </mxCell>
                <mxCell id="swim_user" value="Người dùng" style="swimlane;childLayout=stackLayout;horizontal=0;startSize=40;horizontalStack=0;resizeParent=1;expand=1;rounded=0;html=1;fontSize=14;strokeColor=#6c8ebf;fillColor=#f5f5f5;" parent="boundary" vertex="1">
                    <mxGeometry x="23" width="500" height="1800" as="geometry"/>
                </mxCell>
                <mxCell id="start" value="Bắt đầu" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="swim_user" vertex="1">
                    <mxGeometry x="180" y="20" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step_open" value="Mở ứng dụng / website" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="90" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="decision_haveAccount" value="Đã có tài khoản?" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="180" width="380" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="step_fill_signup" value="Điền form đăng ký (email, SĐT, mật khẩu)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="300" width="380" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="step_send_code" value="Nhấn nút &#39;Gửi mã xác minh&#39;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="410" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="step_enter_code" value="Nhập mã xác minh 6 chữ số từ email" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="500" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="step_verify_code" value="Nhấn nút &#39;Xác minh&#39;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="590" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="step_submit_signup" value="Gửi yêu cầu tạo tài khoản" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="680" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="step_enter_login" value="Nhập email/SĐT + mật khẩu" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="1000" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="decision_mfa" value="Bật bảo mật 2 lớp?" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="1090" width="380" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="step_enter_otp" value="Nhập OTP xác minh" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="1210" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_dashboard" value="Chuyển hướng đến dashboard" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff;" parent="swim_user" vertex="1">
                    <mxGeometry x="60" y="1300" width="380" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="edge_start_open" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_user" source="start" target="step_open" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_open_decision" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_user" source="step_open" target="decision_haveAccount" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_decision_signup" value="Chưa" style="endArrow=classic;html=1;strokeColor=#82b366;" parent="swim_user" source="decision_haveAccount" target="step_fill_signup" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_fill_send" style="endArrow=classic;html=1;strokeColor=#d79b00;" parent="swim_user" source="step_fill_signup" target="step_send_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_send_enter" style="endArrow=classic;html=1;strokeColor=#d79b00;" parent="swim_user" source="step_send_code" target="step_enter_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_enter_verify" style="endArrow=classic;html=1;strokeColor=#d79b00;" parent="swim_user" source="step_enter_code" target="step_verify_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_verify_submit" style="endArrow=classic;html=1;strokeColor=#82b366;" parent="swim_user" source="step_verify_code" target="step_submit_signup" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_decision_login" value="Đã có" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_user" source="decision_haveAccount" target="step_enter_login" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="250" y="225"/>
                            <mxPoint x="250" y="1030"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge_login_mfa" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_user" source="step_enter_login" target="decision_mfa" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_mfa_yes" value="Có" style="endArrow=classic;html=1;strokeColor=#b85450;" parent="swim_user" source="decision_mfa" target="step_enter_otp" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_mfa_no" value="Không" style="endArrow=classic;html=1;strokeColor=#666666;dashed=1;" parent="swim_user" source="decision_mfa" target="system_dashboard" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="250" y="1135"/>
                            <mxPoint x="700" y="1135"/>
                            <mxPoint x="700" y="1330"/>
                            <mxPoint x="250" y="1330"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="swim_system" value="Hệ thống Harvest Hub" style="swimlane;childLayout=stackLayout;horizontal=0;startSize=40;horizontalStack=0;resizeParent=1;expand=1;rounded=0;html=1;fontSize=14;strokeColor=#82b366;fillColor=#ffffff;" parent="boundary" vertex="1">
                    <mxGeometry x="523" width="500" height="1800" as="geometry"/>
                </mxCell>
                <mxCell id="system_receive_code" value="Nhận yêu cầu gửi mã xác minh" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffffff;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_validate_email" value="Kiểm tra email hợp lệ" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="60" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_generate_code" value="Tạo mã xác minh 6 chữ số" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="120" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_sendOTP" value="Gửi mã xác minh qua email" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="180" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_verify_code" value="Xác minh mã từ người dùng" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="240" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_receive_register" value="Nhận dữ liệu đăng ký" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#ffffff;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="300" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_validate" value="Kiểm tra hợp lệ (format, trùng lặp)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="360" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_create" value="Tạo hồ sơ &amp; mã hóa mật khẩu" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="420" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_receive_login" value="Nhận dữ liệu đăng nhập" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="480" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_login" value="Xác thực thông tin đăng nhập" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="540" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_sendOTP_login" value="Gửi OTP xác minh 2FA" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="600" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_verify_otp" value="Xác thực OTP 2FA" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="660" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_issue_token" value="Phát hành JWT/refresh token" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="720" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="system_audit" value="Ghi log &amp; cập nhật trạng thái đăng nhập" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#666666;fillColor=#f5f5f5;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="780" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="end" value="Kết thúc" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" parent="swim_system" vertex="1">
                    <mxGeometry x="40" y="840" width="460" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="edge_system_receive_validate_email" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_system" source="system_receive_code" target="system_validate_email" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_validate_email_generate" style="endArrow=classic;html=1;strokeColor=#d79b00;" parent="swim_system" source="system_validate_email" target="system_generate_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_generate_send" style="endArrow=classic;html=1;strokeColor=#d79b00;" parent="swim_system" source="system_generate_code" target="system_sendOTP" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_verify_receive" style="endArrow=classic;html=1;strokeColor=#82b366;" parent="swim_system" source="system_verify_code" target="system_receive_register" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_receive_validate" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_system" source="system_receive_register" target="system_validate" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_validate_create" style="endArrow=classic;html=1;strokeColor=#82b366;" parent="swim_system" source="system_validate" target="system_create" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_create_token" style="endArrow=classic;html=1;strokeColor=#9673a6;" parent="swim_system" source="system_create" target="system_issue_token" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_system_receive_login" style="endArrow=classic;html=1;strokeColor=#6c8ebf;" parent="swim_system" source="system_receive_login" target="system_login" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_verify_otp_token" style="endArrow=classic;html=1;strokeColor=#9673a6;" parent="swim_system" source="system_verify_otp" target="system_issue_token" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_token_audit" style="endArrow=classic;html=1;strokeColor=#666666;" parent="swim_system" source="system_issue_token" target="system_audit" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_send_systemReceive" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#d79b00;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="step_send_code" target="system_receive_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_systemSendOTP_userEnterCode" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#d79b00;entryX=1;entryY=0.5;exitX=0;exitY=0.5;" parent="boundary" source="system_sendOTP" target="step_enter_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_verify_systemVerify" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#d79b00;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="step_verify_code" target="system_verify_code" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_submit_systemReceive" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#82b366;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="step_submit_signup" target="system_receive_register" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_login_systemReceive" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#6c8ebf;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="step_enter_login" target="system_receive_login" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_system_login_mfa" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#6c8ebf;dashed=1;entryX=1;entryY=0.5;exitX=0;exitY=0.5;" parent="boundary" source="system_login" target="decision_mfa" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_mfa_sendOTP" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#b85450;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="decision_mfa" target="system_sendOTP_login" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_sendOTP_enterOTP" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#b85450;entryX=1;entryY=0.5;exitX=0;exitY=0.5;" parent="boundary" source="system_sendOTP_login" target="step_enter_otp" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_otp_verify" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#b85450;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="step_enter_otp" target="system_verify_otp" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_audit_dashboard" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#6c8ebf;entryX=1;entryY=0.5;exitX=0;exitY=0.5;" parent="boundary" source="system_audit" target="system_dashboard" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge_dashboard_end" style="edgeStyle=orthogonalEdgeStyle;endArrow=classic;html=1;strokeColor=#666666;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" parent="boundary" source="system_dashboard" target="end" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>